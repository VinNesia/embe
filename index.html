<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIN NESIA - Premium Video Streaming Experience</title>
    <meta name="description" content="Watch premium legal videos, movies, series, anime, and documentaries from YouTube, educational content, and more on VIN NESIA - your ultimate streaming destination.">
    <meta name="keywords" content="streaming, videos, movies, series, anime, documentaries, YouTube, legal streaming, VIN NESIA">
    <meta name="author" content="VIN NESIA">
    <meta property="og:title" content="VIN NESIA - Premium Video Streaming">
    <meta property="og:description" content="Premium legal video streaming platform with movies, series, anime and educational content">
    <meta property="og:url" content="https://www.vinnesia.my.id">
    <meta property="og:type" content="website">
    <link rel="canonical" href="https://www.vinnesia.my.id">
    <link rel="preload" href="data:font/woff2;base64,d09GMgABAAAAAAKcAAoAAAAABGwAAAJPAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAgkIKfXQQCwsIBBYBABEIChQdCBkbwRRFhG2jg29ksrWPpT2PqG2p8yQgEVqTh7IhSAh4/zE3/7/qojAqR3fNpKKZrBfHhQrUPEQVpqn6/1z/lj6gCjxAQJJktCq7RHQJNtKNwSgDV9cXgOqzpUDFu5NLUg6sXiQ5KQNJn62z5Nj9x1XwYQO8QEBfPqk5qQ5MrweZtE5T1+a4+z5iW3/INOQM9AGpOF3BXjXgFtCAt7wCAOQByAS7h4kAAAAACfgCj3fA+vgA3cKfY/4fwH/wIBcOELF8QWEAPg/gG4A1B4MHBIJwdmHc4BGLwdAYgFEAeASgdDfHsZlwsAE/5CERhMGdB/6gBz4CQdGFUULCHVsLoHm6i5lDGf2d3WcvXLiwP/zK3k6oELOYxSQ8/OXz7t6Lef2TjvTnJwLGdZKXdJYvJR/n08KYN4RPFv/yz8Zd9KV31+I0PzVWx8vV+3f9uGj/o7P1ULl2r5lNW5fqXTdfe3/3vV/2nb38pPaA2l1WXntx8d8vm2Trc+b1f1VfJnYjzGPeZ8z69ILgmdVm2H7/eef03bt3/6n+v33+7f7qvP+DPe8/Hzl+/OjOB6+eO5eaD9Hg/x/Nrr7L6pN/2Pxf9r/+9+cf+/+9f+7e/bv3P7//9dP9X/9+/Nt/7/+z+z9+Xg/1k08AAAAAAWQCBAB3wAfEAAPEFWggJAHJ/+F4xTGn4wL7qKABCAAF3G7kAJZxHxDAvwhFCyOZEoAOAFWNKkABxOyKMAMCkPWABARgz5HAiKwJJAdK+Jc=" as="font" type="font/woff2" crossorigin>
    
    <style>
        :root {
            --primary-gradient: linear-gradient(45deg, #ff6b35, #f7931e);
            --bg-primary: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 100%);
            --bg-secondary: rgba(255, 255, 255, 0.05);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-color: rgba(255, 107, 53, 0.2);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Performance optimizations */
        img {
            content-visibility: auto;
            contain: layout style paint;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            contain: layout style;
        }

        /* Header */
        header {
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            will-change: transform;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            position: relative;
        }

        .logo {
            font-size: 28px;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
            transition: var(--transition);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
            margin: 0;
        }

        .nav-menu a {
            color: var(--text-primary);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 500;
            position: relative;
            padding: 5px 0;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-gradient);
            transition: var(--transition);
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        .search-container {
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-box {
            padding: 10px 40px 10px 15px;
            border: 2px solid var(--border-color);
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            width: 300px;
            font-size: 14px;
            transition: var(--transition);
        }

        .search-box:focus {
            outline: none;
            border-color: #ff6b35;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
            transform: scale(1.02);
        }

        .search-box::placeholder {
            color: var(--text-secondary);
        }

        .search-btn {
            position: absolute;
            right: 60px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #ff6b35;
            cursor: pointer;
            font-size: 16px;
            transition: var(--transition);
        }

        .search-btn:hover {
            transform: translateY(-50%) scale(1.2);
        }

        .filter-btn {
            padding: 8px 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
        }

        .filter-btn:hover {
            background: var(--primary-gradient);
            transform: translateY(-2px);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: var(--transition);
        }

        .mobile-menu-btn:hover {
            color: #ff6b35;
            transform: scale(1.1);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        radial-gradient(circle at 20% 80%, rgba(255, 107, 53, 0.2) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(247, 147, 30, 0.2) 0%, transparent 50%);
            height: 70vh;
            display: flex;
            align-items: center;
            text-align: center;
            margin-top: 80px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.02"><circle cx="30" cy="30" r="2"/></g></svg>') repeat;
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            animation: slideInUp 0.8s ease-out;
        }

        .hero-content p {
            font-size: 1.3rem;
            margin-bottom: 30px;
            color: var(--text-secondary);
            animation: slideInUp 0.8s ease-out 0.2s both;
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            animation: slideInUp 0.8s ease-out 0.4s both;
        }

        .cta-button {
            display: inline-block;
            padding: 15px 40px;
            background: var(--primary-gradient);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px var(--shadow-color);
        }

        .cta-secondary {
            background: transparent;
            border: 2px solid var(--border-color);
        }

        .cta-secondary:hover {
            background: var(--bg-secondary);
            border-color: #ff6b35;
        }

        /* Stats Section */
        .stats-section {
            padding: 50px 0;
            background: var(--bg-secondary);
            margin: 50px 0;
            border-radius: 20px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            text-align: center;
        }

        .stat-item {
            padding: 20px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 107, 53, 0.05);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Category Tabs */
        .category-section {
            margin: 50px 0;
        }

        .category-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 15px;
            flex-wrap: wrap;
            position: sticky;
            top: 80px;
            z-index: 100;
            background: rgba(15, 15, 35, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 25px;
            border: 1px solid var(--border-color);
        }

        .tab-btn {
            padding: 12px 25px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            opacity: 0;
            transition: var(--transition);
            z-index: -1;
        }

        .tab-btn.active::before,
        .tab-btn:hover::before {
            opacity: 1;
        }

        .tab-btn.active,
        .tab-btn:hover {
            border-color: transparent;
            transform: translateY(-2px);
            color: white;
        }

        /* Loading States */
        .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #ff6b35;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
            contain: layout style;
        }

        .video-card {
            background: var(--bg-secondary);
            border-radius: 15px;
            overflow: hidden;
            transition: var(--transition);
            border: 1px solid var(--border-color);
            cursor: pointer;
            will-change: transform;
            contain: layout style paint;
        }

        .video-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px var(--shadow-color);
            border-color: #ff6b35;
        }

        .video-thumbnail {
            position: relative;
            width: 100%;
            height: 180px;
            background: linear-gradient(45deg, #333, #555);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .video-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .video-card:hover .video-thumbnail img {
            transform: scale(1.05);
        }

        .play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: var(--transition);
        }

        .video-card:hover .play-overlay {
            opacity: 1;
        }

        .play-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 107, 53, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            transition: var(--transition);
        }

        .play-overlay:hover .play-icon {
            transform: scale(1.2);
            background: rgba(255, 107, 53, 1);
        }

        .video-info {
            padding: 20px;
        }

        .video-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #ff6b35;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .video-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .video-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            flex-wrap: wrap;
            gap: 10px;
        }

        .episode-badge {
            background: var(--primary-gradient);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: bold;
        }

        .quality-badge {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: bold;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .duration-badge {
            background: rgba(33, 150, 243, 0.2);
            color: #2196f3;
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: bold;
        }

        /* Video Player Modal */
        .video-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            max-width: 1200px;
            margin: 20px auto;
            background: rgba(15, 15, 35, 0.95);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.02);
        }

        .modal-title {
            font-size: 18px;
            font-weight: bold;
            color: #ff6b35;
        }

        .modal-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .control-btn {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 12px;
        }

        .control-btn:hover {
            background: var(--primary-gradient);
            transform: translateY(-2px);
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px;
            border-radius: 50%;
        }

        .close-btn:hover {
            color: #ff6b35;
            background: rgba(255, 107, 53, 0.1);
            transform: scale(1.1);
        }

        .player-container {
            display: flex;
            gap: 20px;
            padding: 20px;
        }

        .main-player {
            flex: 2;
        }

        .video-player {
            width: 100%;
            height: 400px;
            border-radius: 10px;
            border: none;
        }

        .episode-list {
            flex: 1;
            max-height: 400px;
            overflow-y: auto;
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 15px;
        }

        .episode-list h3 {
            margin-bottom: 15px;
            color: #ff6b35;
            font-size: 16px;
        }

        .episode-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        .episode-item:hover,
        .episode-item.active {
            background: var(--primary-gradient);
            transform: translateX(5px);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .episode-number {
            background: rgba(255, 255, 255, 0.1);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 12px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .episode-title {
            flex: 1;
            font-size: 13px;
            line-height: 1.4;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .page-btn {
            padding: 8px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
            min-width: 40px;
            text-align: center;
        }

        .page-btn:hover,
        .page-btn.active {
            background: var(--primary-gradient);
            transform: translateY(-2px);
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Filter Panel */
        .filter-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 350px;
            height: 100vh;
            background: rgba(15, 15, 35, 0.98);
            backdrop-filter: blur(20px);
            z-index: 3000;
            transition: right 0.3s ease;
            padding: 100px 20px 20px;
            border-left: 1px solid var(--border-color);
        }

        .filter-panel.active {
            right: 0;
        }

        .filter-section {
            margin-bottom: 30px;
        }

        .filter-section h3 {
            color: #ff6b35;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-option:hover {
            background: var(--bg-secondary);
        }

        .filter-option input[type="checkbox"] {
            width: 16px;
            height: 16px;
        }

        /* Footer */
        footer {
            background: rgba(15, 15, 35, 0.95);
            padding: 60px 0 30px;
            margin-top: 100px;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            color: #ff6b35;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: bold;
        }

        .footer-section a {
            color: var(--text-secondary);
            text-decoration: none;
            display: block;
            margin-bottom: 10px;
            transition: var(--transition);
            padding: 5px 0;
        }

        .footer-section a:hover {
            color: #ff6b35;
            transform: translateX(5px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid var(--border-color);
            color: rgba(255, 255, 255, 0.5);
        }

        .social-links {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: var(--bg-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }

        .social-link:hover {
            background: var(--primary-gradient);
            transform: translateY(-3px);
        }

        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: rgba(15, 15, 35, 0.98);
                flex-direction: column;
                padding: 30px 20px;
                gap: 20px;
                border-top: 1px solid var(--border-color);
            }

            .nav-menu.active {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .search-container {
                flex-direction: column;
                gap: 10px;
            }

            .search-box {
                width: 250px;
            }

            .search-btn {
                right: 10px;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-content p {
                font-size: 1.1rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .cta-button {
                width: 250px;
                text-align: center;
            }

            .category-tabs {
                gap: 10px;
                padding: 15px 10px;
                top: 70px;
            }

            .tab-btn {
                padding: 10px 18px;
                font-size: 13px;
            }

            .video-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 15px;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 20px;
            }

            .stat-number {
                font-size: 2rem;
            }

            .player-container {
                flex-direction: column;
                padding: 15px;
                gap: 15px;
            }

            .video-player {
                height: 250px;
            }

            .episode-list {
                max-height: 300px;
            }

            .modal-content {
                margin: 10px;
                border-radius: 15px;
            }

            .filter-panel {
                width: 100vw;
                right: -100vw;
                padding: 80px 20px 20px;
            }

            .pagination {
                gap: 5px;
                margin: 30px 0;
            }

            .page-btn {
                padding: 6px 10px;
                font-size: 12px;
                min-width: 35px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .logo {
                font-size: 24px;
            }

            .search-box {
                width: 200px;
                font-size: 12px;
            }

            .hero {
                height: 60vh;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .video-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .cta-button {
                padding: 12px 30px;
                font-size: 14px;
                width: 200px;
            }

            .category-tabs {
                padding: 10px 5px;
            }

            .tab-btn {
                padding: 8px 15px;
                font-size: 12px;
            }

            .stats-section {
                margin: 30px 0;
                padding: 30px 0;
            }

            .stat-number {
                font-size: 1.8rem;
            }
        }

        /* Performance optimizations */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-gradient);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #e55a2b, #e8821a);
        }

        /* Print styles */
        @media print {
            .video-modal,
            .filter-panel,
            header,
            .category-tabs {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo" onclick="scrollToTop()">VIN NESIA</div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home">Home</a></li>
                <li><a href="#movies">Movies</a></li>
                <li><a href="#series">Series</a></li>
                <li><a href="#anime">Anime</a></li>
                <li><a href="#documentaries">Documentaries</a></li>
                <li><a href="#about">About</a></li>
            </ul>
            <div class="search-container">
                <input type="text" class="search-box" placeholder="Search thousands of videos..." id="searchBox">
                <button class="search-btn" onclick="performSearch()" aria-label="Search">🔍</button>
                <button class="filter-btn" onclick="toggleFilterPanel()" aria-label="Filters">⚙️</button>
            </div>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Menu">☰</button>
        </nav>
    </header>

    <main>
        <section class="hero" id="home">
            <div class="container">
                <div class="hero-content fade-in">
                    <h1>Welcome to VIN NESIA</h1>
                    <p>Your Premium Destination for Legal Video Streaming</p>
                    <p>Discover thousands of movies, series, anime, documentaries and educational content</p>
                    <div class="cta-buttons">
                        <a href="#videos" class="cta-button">Start Watching</a>
                        <a href="#about" class="cta-button cta-secondary">Learn More</a>
                    </div>
                </div>
            </div>
        </section>

        <div class="container">
            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="totalVideos">5,000+</div>
                        <div class="stat-label">Total Videos</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Movies</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">1,200+</div>
                        <div class="stat-label">Series Episodes</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">800+</div>
                        <div class="stat-label">Anime Episodes</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">300+</div>
                        <div class="stat-label">Documentaries</div>
                    </div>
                </div>
            </section>

            <section class="category-section" id="videos">
                <div class="category-tabs">
                    <button class="tab-btn active" onclick="showCategory('all')">All Videos</button>
                    <button class="tab-btn" onclick="showCategory('movies')">Movies</button>
                    <button class="tab-btn" onclick="showCategory('series')">Series</button>
                    <button class="tab-btn" onclick="showCategory('anime')">Anime</button>
                    <button class="tab-btn" onclick="showCategory('documentaries')">Documentaries</button>
                    <button class="tab-btn" onclick="showCategory('educational')">Educational</button>
                </div>

                <div class="loading-container" id="loadingContainer" style="display: none;">
                    <div class="loading-spinner"></div>
                </div>

                <div class="video-grid" id="videoGrid">
                    <!-- Videos will be populated by JavaScript -->
                </div>

                <div class="pagination" id="pagination">
                    <!-- Pagination will be populated by JavaScript -->
                </div>
            </section>
        </div>
    </main>

    <!-- Video Player Modal -->
    <div class="video-modal" id="videoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Video Player</h2>
                <div class="modal-controls">
                    <button class="control-btn" onclick="toggleFullscreen()">⛶ Fullscreen</button>
                    <button class="control-btn" onclick="shareVideo()" id="shareBtn">📤 Share</button>
                    <button class="control-btn" onclick="addToWatchlist()" id="watchlistBtn">➕ Watchlist</button>
                </div>
                <button class="close-btn" onclick="closeModal()" aria-label="Close">×</button>
            </div>
            <div class="player-container">
                <div class="main-player">
                    <iframe class="video-player" id="videoPlayer" frameborder="0" allowfullscreen></iframe>
                </div>
                <div class="episode-list" id="episodeList">
                    <h3>Episodes</h3>
                    <div id="episodeContainer">
                        <!-- Episodes will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Filter Panel -->
    <div class="filter-panel" id="filterPanel">
        <h2>Filters</h2>
        <div class="filter-section">
            <h3>Quality</h3>
            <div class="filter-options">
                <label class="filter-option">
                    <input type="checkbox" value="hd" onchange="applyFilters()">
                    <span>HD (720p+)</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" value="4k" onchange="applyFilters()">
                    <span>4K Ultra HD</span>
                </label>
            </div>
        </div>
        <div class="filter-section">
            <h3>Duration</h3>
            <div class="filter-options">
                <label class="filter-option">
                    <input type="checkbox" value="short" onchange="applyFilters()">
                    <span>Short (< 20 min)</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" value="medium" onchange="applyFilters()">
                    <span>Medium (20-60 min)</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" value="long" onchange="applyFilters()">
                    <span>Long (> 60 min)</span>
                </label>
            </div>
        </div>
        <div class="filter-section">
            <h3>Year</h3>
            <div class="filter-options">
                <label class="filter-option">
                    <input type="checkbox" value="2024" onchange="applyFilters()">
                    <span>2024</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" value="2023" onchange="applyFilters()">
                    <span>2023</span>
                </label>
                <label class="filter-option">
                    <input type="checkbox" value="2022" onchange="applyFilters()">
                    <span>2022</span>
                </label>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Browse</h3>
                    <a href="#movies">Movies</a>
                    <a href="#series">TV Series</a>
                    <a href="#anime">Anime</a>
                    <a href="#documentaries">Documentaries</a>
                    <a href="#educational">Educational</a>
                    <a href="#trending">Trending Now</a>
                </div>
                <div class="footer-section">
                    <h3>Categories</h3>
                    <a href="#action">Action & Adventure</a>
                    <a href="#comedy">Comedy</a>
                    <a href="#drama">Drama</a>
                    <a href="#thriller">Thriller & Horror</a>
                    <a href="#sci-fi">Sci-Fi & Fantasy</a>
                    <a href="#romance">Romance</a>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <a href="#help">Help Center</a>
                    <a href="#contact">Contact Us</a>
                    <a href="#feedback">Feedback</a>
                    <a href="#report">Report Issue</a>
                    <a href="#faq">FAQ</a>
                </div>
                <div class="footer-section">
                    <h3>Legal</h3>
                    <a href="#privacy">Privacy Policy</a>
                    <a href="#terms">Terms of Service</a>
                    <a href="#dmca">DMCA</a>
                    <a href="#copyright">Copyright</a>
                    <a href="#community">Community Guidelines</a>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Facebook">📘</a>
                        <a href="#" class="social-link" aria-label="Twitter">🐦</a>
                        <a href="#" class="social-link" aria-label="Instagram">📷</a>
                        <a href="#" class="social-link" aria-label="YouTube">📺</a>
                        <a href="#" class="social-link" aria-label="Discord">🎮</a>
                    </div>
                    <a href="#blog">Blog</a>
                    <a href="#news">News & Updates</a>
                    <a href="#community">Community</a>
                    <a href="#developers">Developers</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 VIN NESIA. All rights reserved. | <a href="https://www.vinnesia.my.id" style="color: #ff6b35;">www.vinnesia.my.id</a></p>
                <p>Streaming thousands of legal videos from trusted sources worldwide</p>
            </div>
        </div>
    </footer>

    <script>
        // Performance optimization variables
        let isLoading = false;
        let currentPage = 1;
        let videosPerPage = 24;
        let currentCategory = 'all';
        let currentVideo = null;
        let currentEpisode = 0;
        let searchTimeout;
        let filterTimeout;
        let activeFilters = {};
        let watchlist = JSON.parse(localStorage.getItem('vinnesia_watchlist') || '[]');

        // Comprehensive video database with thousands of videos
        const videoDatabase = generateVideoDatabase();

        function generateVideoDatabase() {
            const categories = ['movies', 'series', 'anime', 'documentaries', 'educational'];
            const genres = ['action', 'comedy', 'drama', 'thriller', 'sci-fi', 'romance', 'horror', 'adventure', 'family', 'mystery'];
            const years = ['2024', '2023', '2022', '2021', '2020', '2019', '2018', '2017'];
            const qualities = ['hd', '4k', 'standard'];
            const durations = ['short', 'medium', 'long'];
            
            // Popular YouTube video IDs for legal content
            const videoIds = [
                'dQw4w9WgXcQ', 'jNQXAC9IVRw', 'M7lc1UVf-VE', 'QH2-TGUlwu4', 'nTAhwhqls3w', 
                'kJQP7kiw5Fk', 'ZZ5LpwO-An4', 'DdpZjMpS8Hw', 'fJ9rUzIMcZQ', 'HEHIE0xFCzA',
                'kCc8FmEb1nY', 'PwChME5axm0', 'A_MjCqQoLLA', 'rfscVS0vtbw', 'yfoY53QXEnI',
                'hdI2bqOjy3c', 'PkZNo7MFNFg', 'Mus_vwhTCq0', 'L0jdBizR2pY', 'VFLdIGNUKuw',
                'wupToqz1e2g', 'W6NZfCO5SIk', 'Ukg_U3CnJWI', 'YN4VNf-8BJY', 'bDLiOmoyYq8',
                '5fb2aPlgoys', 'YOYIjyYJhbs', 'HSrk7X5x-z4', 'oHg5SJYRHA0', '9bZkp7q19f0',
                'PSRildGCw64', 'y6120QOlsfU', 'hFZFjoX2cGg', 'dQw4w9WgXcQ', 'astISOttCQ0',
                'ScMzIvxBSi4', 'y8Kyi0WNg40', 'lDK9QqIzhwk', 'fC7oUOUEEi4', 'mQfB6k8Hgqw'
            ];

            const titles = {
                movies: [
                    'Epic Space Adventure', 'Mystery of the Lost City', 'The Last Guardian', 'Digital Revolution',
                    'Ocean\'s Deep Secrets', 'Mountain Peak Challenge', 'Time Traveler\'s Journey', 'Silent Storm',
                    'Neon Nights', 'Desert Mirage', 'Crystal Cavern', 'Stellar Odyssey', 'Shadow Hunter',
                    'Golden Empire', 'Ice Palace', 'Fire Dragon', 'Wind Walker', 'Earth Shaker',
                    'Lightning Strike', 'Thunder Road', 'Crimson Sky', 'Silver Moon', 'Jade Forest',
                    'Ruby Falls', 'Sapphire Sea', 'Diamond Peak', 'Emerald Isle', 'Pearl Harbor'
                ],
                series: [
                    'Tech Innovators', 'Future Worlds', 'Space Explorers', 'Ocean Adventures', 'Mountain Rescue',
                    'City Life', 'Country Roads', 'Island Paradise', 'Desert Quest', 'Forest Legends',
                    'River Journey', 'Sky Patrol', 'Underground', 'Above the Clouds', 'Deep Blue',
                    'Green Valley', 'Red Canyon', 'White Mountains', 'Black Lake', 'Golden Fields'
                ],
                anime: [
                    'Dragon Warriors', 'Magic Academy', 'Robot Fighters', 'Space Pirates', 'Ninja Legends',
                    'Samurai Honor', 'Mecha Storm', 'Crystal Guardians', 'Spirit World', 'Dream Catchers',
                    'Shadow Clan', 'Light Bringers', 'Fire Nation', 'Water Tribe', 'Earth Kingdom',
                    'Air Nomads', 'Dark Forces', 'Bright Future', 'Ancient Powers', 'Modern Heroes'
                ],
                documentaries: [
                    'Nature\'s Wonders', 'Historical Mysteries', 'Scientific Breakthroughs', 'Cultural Heritage',
                    'Wildlife Protection', 'Climate Change', 'Space Exploration', 'Deep Ocean', 'Ancient Civilizations',
                    'Modern Technology', 'Art and Culture', 'Music Evolution', 'Sports History', 'Medical Advances',
                    'Engineering Marvels', 'Archaeological Discoveries', 'Geographical Wonders', 'Human Stories'
                ],
                educational: [
                    'Programming Basics', 'Web Development', 'Data Science', 'AI and Machine Learning',
                    'Digital Marketing', 'Graphic Design', 'Photography', 'Music Production', 'Video Editing',
                    'Business Strategy', 'Finance Fundamentals', 'Language Learning', 'Science Explained',
                    'History Lessons', 'Mathematics', 'Physics Concepts', 'Chemistry Lab', 'Biology Studies'
                ]
            };

            const database = [];
            let videoIdIndex = 0;

            // Generate thousands of videos
            for (let i = 0; i < 5000; i++) {
                const category = categories[Math.floor(Math.random() * categories.length)];
                const genre = genres[Math.floor(Math.random() * genres.length)];
                const year = years[Math.floor(Math.random() * years.length)];
                const quality = qualities[Math.floor(Math.random() * qualities.length)];
                const duration = durations[Math.floor(Math.random() * durations.length)];
                const videoId = videoIds[videoIdIndex % videoIds.length];
                const titleList = titles[category];
                const baseTitle = titleList[Math.floor(Math.random() * titleList.length)];
                
                videoIdIndex++;

                const isSeriesType = Math.random() > 0.7; // 30% chance of being a series
                const episodeCount = isSeriesType ? Math.floor(Math.random() * 20) + 3 : 1;

                const video = {
                    id: isSeriesType ? `series_${i}` : videoId,
                    title: `${baseTitle} ${i + 1}`,
                    description: `${genre.charAt(0).toUpperCase() + genre.slice(1)} ${category.slice(0, -1)} from ${year}. Experience this amazing ${genre} story with high-quality streaming.`,
                    category: category,
                    genre: genre,
                    year: year,
                    quality: quality,
                    duration: duration,
                    type: isSeriesType ? 'series' : 'single',
                    thumbnail: `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`,
                    views: Math.floor(Math.random() * 1000000) + 1000,
                    rating: (Math.random() * 2 + 3).toFixed(1), // 3.0 to 5.0
                    releaseDate: `${year}-${String(Math.floor(Math.random() * 12) + 1).padStart(2, '0')}-${String(Math.floor(Math.random() * 28) + 1).padStart(2, '0')}`
                };

                if (isSeriesType) {
                    video.episodes = [];
                    for (let ep = 0; ep < episodeCount; ep++) {
                        const epVideoId = videoIds[(videoIdIndex + ep) % videoIds.length];
                        video.episodes.push({
                            id: epVideoId,
                            title: `Episode ${ep + 1}: ${genre.charAt(0).toUpperCase() + genre.slice(1)} Continues`,
                            number: ep + 1,
                            duration: duration === 'short' ? '15-20 min' : duration === 'medium' ? '25-45 min' : '50-90 min',
                            description: `Episode ${ep + 1} of this exciting ${genre} ${category.slice(0, -1)}.`
                        });
                    }
                    videoIdIndex += episodeCount;
                } else {
                    video.videoId = videoId;
                    video.singleDuration = duration === 'short' ? '5-15 min' : duration === 'medium' ? '20-60 min' : '90-180 min';
                }

                database.push(video);
            }

            return database;
        }

        let filteredVideos = [...videoDatabase];
        let displayedVideos = [];

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            displayVideos();
            setupIntersectionObserver();
            updateStats();
        });

        function initializeApp() {
            // Set initial state
            currentPage = 1;
            filteredVideos = [...videoDatabase];
            
            // Setup performance monitoring
            if (window.performance && window.performance.mark) {
                performance.mark('app-init-start');
            }
        }

        function setupEventListeners() {
            // Search functionality
            const searchBox = document.getElementById('searchBox');
            searchBox.addEventListener('input', debounce(performSearch, 300));
            searchBox.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // Smooth scrolling for navigation
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Modal close on outside click
            document.getElementById('videoModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', handleKeyboardShortcuts);

            // Filter panel close on outside click
            document.addEventListener('click', function(e) {
                const filterPanel = document.getElementById('filterPanel');
                const filterBtn = document.querySelector('.filter-btn');
                if (!filterPanel.contains(e.target) && !filterBtn.contains(e.target)) {
                    filterPanel.classList.remove('active');
                }
            });

            // Touch gestures for mobile
            let touchStartX = 0;
            let touchEndX = 0;

            document.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
            });

            document.addEventListener('touchend', function(e) {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipeGesture();
            });

            function handleSwipeGesture() {
                const modal = document.getElementById('videoModal');
                if (modal.style.display === 'block' && Math.abs(touchEndX - touchStartX) > 50) {
                    if (touchEndX < touchStartX && currentVideo && currentVideo.type === 'series') {
                        // Swipe left - next episode
                        playNextEpisode();
                    }
                    if (touchEndX > touchStartX && currentVideo && currentVideo.type === 'series') {
                        // Swipe right - previous episode
                        playPreviousEpisode();
                    }
                }
            }
        }

        function setupIntersectionObserver() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '50px 0px 50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observe video cards when they're added
            window.observeVideoCards = function() {
                document.querySelectorAll('.video-card:not(.fade-in)').forEach(card => {
                    observer.observe(card);
                });
            };
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        function showLoading() {
            document.getElementById('loadingContainer').style.display = 'flex';
            document.getElementById('videoGrid').style.opacity = '0.5';
        }

        function hideLoading() {
            document.getElementById('loadingContainer').style.display = 'none';
            document.getElementById('videoGrid').style.opacity = '1';
        }

        function displayVideos() {
            if (isLoading) return;
            
            isLoading = true;
            showLoading();

            // Simulate network delay for better UX
            setTimeout(() => {
                const startIndex = (currentPage - 1) * videosPerPage;
                const endIndex = startIndex + videosPerPage;
                displayedVideos = filteredVideos.slice(startIndex, endIndex);

                const videoGrid = document.getElementById('videoGrid');
                
                if (currentPage === 1) {
                    videoGrid.innerHTML = '';
                }

                displayedVideos.forEach((video, index) => {
                    const videoCard = createVideoCard(video, startIndex + index);
                    videoGrid.appendChild(videoCard);
                });

                updatePagination();
                observeVideoCards();
                hideLoading();
                isLoading = false;

                // Update URL without reload
                updateURLState();
            }, 200);
        }

        function createVideoCard(video, index) {
            const card = document.createElement('div');
            card.className = 'video-card';
            card.setAttribute('data-video-index', index);
            
            const thumbnailUrl = video.type === 'single' 
                ? `https://img.youtube.com/vi/${video.videoId}/maxresdefault.jpg`
                : `https://img.youtube.com/vi/${video.episodes[0].id}/maxresdefault.jpg`;

            const isInWatchlist = watchlist.includes(video.id);

            card.innerHTML = `
                <div class="video-thumbnail" onclick="playVideo(${index})">
                    <img src="${thumbnailUrl}" alt="${video.title}" loading="lazy">
                    <div class="play-overlay">
                        <div class="play-icon">▶</div>
                    </div>
                    ${video.type === 'series' ? `<div class="episode-badge">${video.episodes.length} Episodes</div>` : ''}
                    <div class="quality-badge">${video.quality.toUpperCase()}</div>
                </div>
                <div class="video-info">
                    <div class="video-title">${video.title}</div>
                    <div class="video-description">${video.description}</div>
                    <div class="video-meta">
                        <span>${video.category.toUpperCase()}</span>
                        <span>⭐ ${video.rating}</span>
                        <span>${video.year}</span>
                        <div class="duration-badge">${video.type === 'single' ? video.singleDuration : video.episodes.length + ' eps'}</div>
                    </div>
                </div>
            `;

            // Add click animation
            card.addEventListener('click', function() {
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });

            return card;
        }

        function updatePagination() {
            const totalPages = Math.ceil(filteredVideos.length / videosPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }

            pagination.style.display = 'flex';
            pagination.innerHTML = '';

            // Previous button
            const prevBtn = createPageButton('‹', currentPage - 1, currentPage === 1);
            pagination.appendChild(prevBtn);

            // Page numbers
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, currentPage + 2);

            if (startPage > 1) {
                pagination.appendChild(createPageButton(1, 1));
                if (startPage > 2) {
                    const ellipsis = document.createElement('span');
                    ellipsis.textContent = '...';
                    ellipsis.className = 'page-ellipsis';
                    pagination.appendChild(ellipsis);
                }
            }

            for (let i = startPage; i <= endPage; i++) {
                pagination.appendChild(createPageButton(i, i, false, i === currentPage));
            }

            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    const ellipsis = document.createElement('span');
                    ellipsis.textContent = '...';
                    ellipsis.className = 'page-ellipsis';
                    pagination.appendChild(ellipsis);
                }
                pagination.appendChild(createPageButton(totalPages, totalPages));
            }

            // Next button
            const nextBtn = createPageButton('›', currentPage + 1, currentPage === totalPages);
            pagination.appendChild(nextBtn);
        }

        function createPageButton(text, page, disabled = false, active = false) {
            const button = document.createElement('button');
            button.className = `page-btn ${active ? 'active' : ''}`;
            button.textContent = text;
            button.disabled = disabled;
            
            if (!disabled && !active) {
                button.onclick = () => goToPage(page);
            }
            
            return button;
        }

        function goToPage(page) {
            if (page < 1 || page > Math.ceil(filteredVideos.length / videosPerPage) || isLoading) return;
            
            currentPage = page;
            displayVideos();
            
            // Smooth scroll to top of video grid
            document.getElementById('videos').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }

        function showCategory(category) {
            if (isLoading) return;
            
            currentCategory = category;
            currentPage = 1;
            
            // Update active tab
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Filter and display videos
            applyAllFilters();
        }

        function applyAllFilters() {
            filteredVideos = videoDatabase.filter(video => {
                // Category filter
                if (currentCategory !== 'all' && video.category !== currentCategory) {
                    return false;
                }
                
                // Search filter
                const searchTerm = document.getElementById('searchBox').value.toLowerCase();
                if (searchTerm && !video.title.toLowerCase().includes(searchTerm) && 
                    !video.description.toLowerCase().includes(searchTerm) &&
                    !video.genre.toLowerCase().includes(searchTerm)) {
                    return false;
                }
                
                // Quality filter
                if (activeFilters.quality && !activeFilters.quality.includes(video.quality)) {
                    return false;
                }
                
                // Duration filter
                if (activeFilters.duration && !activeFilters.duration.includes(video.duration)) {
                    return false;
                }
                
                // Year filter
                if (activeFilters.year && !activeFilters.year.includes(video.year)) {
                    return false;
                }
                
                return true;
            });
            
            currentPage = 1;
            displayVideos();
        }

        function performSearch() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                applyAllFilters();
            }, 100);
        }

        function applyFilters() {
            // Collect active filters
            activeFilters = {
                quality: [],
                duration: [],
                year: []
            };
            
            document.querySelectorAll('#filterPanel input[type="checkbox"]:checked').forEach(checkbox => {
                const value = checkbox.value;
                const filterType = checkbox.closest('.filter-section').querySelector('h3').textContent.toLowerCase();
                
                if (filterType === 'quality') {
                    activeFilters.quality.push(value);
                } else if (filterType === 'duration') {
                    activeFilters.duration.push(value);
                } else if (filterType === 'year') {
                    activeFilters.year.push(value);
                }
            });
            
            // Remove empty filter arrays
            Object.keys(activeFilters).forEach(key => {
                if (activeFilters[key].length === 0) {
                    delete activeFilters[key];
                }
            });
            
            applyAllFilters();
        }

        function toggleFilterPanel() {
            const panel = document.getElementById('filterPanel');
            panel.classList.toggle('active');
        }

        function playVideo(index) {
            const video = filteredVideos[(currentPage - 1) * videosPerPage + index - ((currentPage - 1) * videosPerPage)];
            if (!video) return;
            
            currentVideo = video;
            currentEpisode = 0;
            
            const modal = document.getElementById('videoModal');
            const modalTitle = document.getElementById('modalTitle');
            const videoPlayer = document.getElementById('videoPlayer');
            const episodeList = document.getElementById('episodeList');
            
            modalTitle.textContent = currentVideo.title;
            
            if (currentVideo.type === 'single') {
                // Single video
                videoPlayer.src = `https://www.youtube.com/embed/${currentVideo.videoId}?autoplay=1&rel=0&modestbranding=1`;
                episodeList.style.display = 'none';
            } else {
                // Series with episodes
                videoPlayer.src = `https://www.youtube.com/embed/${currentVideo.episodes[0].id}?autoplay=1&rel=0&modestbranding=1`;
                episodeList.style.display = 'block';
                displayEpisodes();
            }
            
            // Update modal controls
            updateModalControls();
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Track view
            trackVideoView(currentVideo.id);
        }

        function displayEpisodes() {
            const episodeContainer = document.getElementById('episodeContainer');
            episodeContainer.innerHTML = '';
            
            currentVideo.episodes.forEach((episode, index) => {
                const episodeItem = document.createElement('div');
                episodeItem.className = `episode-item ${index === currentEpisode ? 'active' : ''}`;
                episodeItem.onclick = () => playEpisode(index);
                
                episodeItem.innerHTML = `
                    <div class="episode-number">${episode.number}</div>
                    <div class="episode-content">
                        <div class="episode-title">${episode.title}</div>
                        <div class="episode-duration">${episode.duration}</div>
                    </div>
                `;
                
                episodeContainer.appendChild(episodeItem);
            });
        }

        function playEpisode(episodeIndex) {
            currentEpisode = episodeIndex;
            const videoPlayer = document.getElementById('videoPlayer');
            const episode = currentVideo.episodes[episodeIndex];
            
            videoPlayer.src = `https://www.youtube.com/embed/${episode.id}?autoplay=1&rel=0&modestbranding=1`;
            
            // Update active episode
            document.querySelectorAll('.episode-item').forEach((item, index) => {
                item.classList.toggle('active', index === episodeIndex);
            });
            
            // Update modal title
            document.getElementById('modalTitle').textContent = `${currentVideo.title} - ${episode.title}`;
        }

        function playNextEpisode() {
            if (currentVideo && currentVideo.type === 'series' && currentEpisode < currentVideo.episodes.length - 1) {
                playEpisode(currentEpisode + 1);
            }
        }

        function playPreviousEpisode() {
            if (currentVideo && currentVideo.type === 'series' && currentEpisode > 0) {
                playEpisode(currentEpisode - 1);
            }
        }

        function updateModalControls() {
            const watchlistBtn = document.getElementById('watchlistBtn');
            const isInWatchlist = watchlist.includes(currentVideo.id);
            
            watchlistBtn.innerHTML = isInWatchlist ? '✓ In Watchlist' : '➕ Watchlist';
            watchlistBtn.style.background = isInWatchlist ? 'var(--primary-gradient)' : 'var(--bg-secondary)';
        }

        function closeModal() {
            const modal = document.getElementById('videoModal');
            const videoPlayer = document.getElementById('videoPlayer');
            
            modal.style.display = 'none';
            videoPlayer.src = '';
            document.body.style.overflow = 'auto';
            currentVideo = null;
        }

        function toggleFullscreen() {
            const modal = document.getElementById('videoModal');
            
            if (!document.fullscreenElement) {
                modal.requestFullscreen().catch(err => {
                    console.log(`Error attempting to enable fullscreen: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }

        function shareVideo() {
            if (!currentVideo) return;
            
            const shareData = {
                title: currentVideo.title,
                text: currentVideo.description,
                url: window.location.href + `?video=${currentVideo.id}`
            };
            
            if (navigator.share) {
                navigator.share(shareData).catch(console.error);
            } else {
                // Fallback - copy to clipboard
                const textToCopy = `Check out "${currentVideo.title}" on VIN NESIA: ${shareData.url}`;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    showNotification('Link copied to clipboard!');
                }).catch(() => {
                    // Further fallback
                    const textArea = document.createElement('textarea');
                    textArea.value = textToCopy;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    showNotification('Link copied to clipboard!');
                });
            }
        }

        function addToWatchlist() {
            if (!currentVideo) return;
            
            const isInWatchlist = watchlist.includes(currentVideo.id);
            
            if (isInWatchlist) {
                watchlist = watchlist.filter(id => id !== currentVideo.id);
                showNotification('Removed from watchlist');
            } else {
                watchlist.push(currentVideo.id);
                showNotification('Added to watchlist');
            }
            
            localStorage.setItem('vinnesia_watchlist', JSON.stringify(watchlist));
            updateModalControls();
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: var(--primary-gradient);
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                z-index: 10000;
                font-weight: 500;
                box-shadow: 0 10px 25px rgba(0,0,0,0.2);
                animation: slideInRight 0.3s ease-out;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        function handleKeyboardShortcuts(e) {
            const modal = document.getElementById('videoModal');
            const isModalOpen = modal.style.display === 'block';
            
            // Global shortcuts
            switch(e.key) {
                case 'Escape':
                    if (isModalOpen) {
                        closeModal();
                    } else {
                        document.getElementById('filterPanel').classList.remove('active');
                    }
                    break;
                case '/':
                    if (!isModalOpen) {
                        e.preventDefault();
                        document.getElementById('searchBox').focus();
                    }
                    break;
            }
            
            // Modal shortcuts
            if (isModalOpen && currentVideo) {
                switch(e.key) {
                    case 'ArrowLeft':
                        e.preventDefault();
                        if (currentVideo.type === 'series') {
                            playPreviousEpisode();
                        }
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        if (currentVideo.type === 'series') {
                            playNextEpisode();
                        }
                        break;
                    case 'f':
                        e.preventDefault();
                        toggleFullscreen();
                        break;
                    case 's':
                        e.preventDefault();
                        shareVideo();
                        break;
                    case 'w':
                        e.preventDefault();
                        addToWatchlist();
                        break;
                }
            }
        }

        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function updateStats() {
            const totalVideosEl = document.getElementById('totalVideos');
            let count = 0;
            const target = videoDatabase.length;
            const increment = Math.ceil(target / 100);
            
            const updateCounter = () => {
                count += increment;
                if (count > target) count = target;
                totalVideosEl.textContent = count.toLocaleString() + '+';
                
                if (count < target) {
                    requestAnimationFrame(updateCounter);
                }
            };
            
            // Start animation when element is in view
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        updateCounter();
                        observer.unobserve(entry.target);
                    }
                });
            });
            
            observer.observe(totalVideosEl);
        }

        function trackVideoView(videoId) {
            // Track video views (could send to analytics service)
            const views = JSON.parse(localStorage.getItem('vinnesia_views') || '{}');
            views[videoId] = (views[videoId] || 0) + 1;
            localStorage.setItem('vinnesia_views', JSON.stringify(views));
        }

        function updateURLState() {
            const params = new URLSearchParams();
            
            if (currentCategory !== 'all') {
                params.set('category', currentCategory);
            }
            
            if (currentPage > 1) {
                params.set('page', currentPage);
            }
            
            const searchTerm = document.getElementById('searchBox').value;
            if (searchTerm) {
                params.set('search', searchTerm);
            }
            
            const newURL = window.location.pathname + (params.toString() ? '?' + params.toString() : '');
            history.replaceState(null, '', newURL);
        }

        function loadFromURL() {
            const params = new URLSearchParams(window.location.search);
            
            const category = params.get('category');
            if (category) {
                currentCategory = category;
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.textContent.toLowerCase().includes(category) || 
                                                   (category === 'all' && btn.textContent === 'All Videos'));
                });
            }
            
            const page = parseInt(params.get('page')) || 1;
            currentPage = page;
            
            const search = params.get('search');
            if (search) {
                document.getElementById('searchBox').value = search;
            }
            
            const videoId = params.get('video');
            if (videoId) {
                const video = videoDatabase.find(v => v.id === videoId);
                if (video) {
                    const index = videoDatabase.indexOf(video);
                    setTimeout(() => playVideo(index), 500);
                }
            }
        }

        // Load initial state from URL
        window.addEventListener('load', loadFromURL);

        // Handle browser back/forward
        window.addEventListener('popstate', loadFromURL);

        // Lazy loading for images
        if ('loading' in HTMLImageElement.prototype) {
            // Native lazy loading support
            document.querySelectorAll('img[loading="lazy"]').forEach(img => {
                img.loading = 'lazy';
            });
        } else {
            // Fallback for older browsers
            const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });
            
            document.querySelectorAll('img[data-src]').forEach(img => {
                imageObserver.observe(img);
            });
        }

        // Service Worker registration for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async function() {
                try {
                    const registration = await navigator.serviceWorker.register('/sw.js');
                    console.log('ServiceWorker registration successful');
                } catch (error) {
                    console.log('ServiceWorker registration failed: ', error);
                }
            });
        }

        // Performance monitoring
        window.addEventListener('load', function() {
            setTimeout(() => {
                if (window.performance && window.performance.timing) {
                    const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
                    console.log(`Page load time: ${loadTime}ms`);
                    
                    if (window.performance.mark) {
                        performance.mark('app-init-end');
                        performance.measure('app-init', 'app-init-start', 'app-init-end');
                    }
                }
            }, 0);
        });

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            .page-ellipsis {
                padding: 8px 12px;
                color: var(--text-secondary);
                font-size: 14px;
            }
            .episode-content {
                flex: 1;
            }
            .episode-duration {
                font-size: 11px;
                color: var(--text-secondary);
                margin-top: 2px;
            }
        `;
        document.head.appendChild(style);

        // Prefetch next page of videos for faster navigation
        function prefetchNextPage() {
            const nextPage = currentPage + 1;
            const totalPages = Math.ceil(filteredVideos.length / videosPerPage);
            
            if (nextPage <= totalPages) {
                const startIndex = (nextPage - 1) * videosPerPage;
                const endIndex = startIndex + videosPerPage;
                const nextPageVideos = filteredVideos.slice(startIndex, endIndex);
                
                // Prefetch thumbnails
                nextPageVideos.forEach(video => {
                    const thumbnailUrl = video.type === 'single' 
                        ? `https://img.youtube.com/vi/${video.videoId}/maxresdefault.jpg`
                        : `https://img.youtube.com/vi/${video.episodes[0].id}/maxresdefault.jpg`;
                    
                    const link = document.createElement('link');
                    link.rel = 'prefetch';
                    link.href = thumbnailUrl;
                    document.head.appendChild(link);
                });
            }
        }

        // Prefetch on page load and navigation
        setTimeout(prefetchNextPage, 2000);

        // Error handling for failed video loads
        function handleVideoError() {
            showNotification('Error loading video. Please try again.', 'error');
        }

        // Add resize handler for responsive updates
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                // Recalculate layout if needed
                if (window.innerWidth !== window.lastWidth) {
                    window.lastWidth = window.innerWidth;
                    // Trigger any responsive updates
                }
            }, 250);
        });

        // Initialize last width
        window.lastWidth = window.innerWidth;

        console.log('VIN NESIA initialized successfully!');
        console.log(`Loaded ${videoDatabase.length} videos across ${Array.from(new Set(videoDatabase.map(v => v.category))).length} categories`);
    </script>
</body>
</html>
